{{define "title"}}Edit Product - Admin{{end}}
{{define "content"}}

<h1 class="text-3xl font-bold mb-6">Edit Product</h1>

<form action="/admin/product/update/{{.Product.ID}}" method="POST" enctype="multipart/form-data"
      class="bg-white shadow rounded-lg p-6 max-w-3xl space-y-6 mx-auto">

  <!-- Buttons at Top -->
  <div class="flex gap-3 mb-6">
    <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
      Update
    </button>
    <a href="/admin/products" class="bg-gray-300 text-gray-800 px-6 py-2 rounded hover:bg-gray-400">
      Cancel
    </a>
  </div>

  <!-- Title -->
  <div>
    <label class="block font-semibold mb-1">Title</label>
    <input type="text" name="title" value="{{.Product.Title}}"
           class="w-full border rounded px-3 py-2 focus:ring focus:ring-blue-200"/>
  </div>

  <!-- Description -->
  <div>
    <label class="block font-semibold mb-1">Description</label>
    <textarea name="description" rows="4"
              class="w-full border rounded px-3 py-2 focus:ring focus:ring-blue-200">{{.Product.Description}}</textarea>
  </div>

  <!-- Price -->
  <div>
    <label class="block font-semibold mb-1">Price ($)</label>
    <input type="number" step="0.01" name="price" value="{{.Product.BasePrice}}"
           class="w-full border rounded px-3 py-2 focus:ring focus:ring-blue-200"/>
  </div>

  <!-- Stock -->
  <div>
    <label class="block font-semibold mb-1">Stock</label>
    <input type="number" name="stock" value="{{.Product.Stock}}"
           class="w-full border rounded px-3 py-2 focus:ring focus:ring-blue-200"/>
  </div>

  <!-- Image -->
  <div>
    <label class="block font-semibold mb-1">Product Image</label>
    <input type="file" name="image" class="w-full border rounded px-3 py-2"/>
    {{if .Product.ImageURL}}
      <img src="{{.Product.ImageURL}}" alt="Product image"
           class="mt-3 h-40 object-contain rounded border"/>
    {{end}}
  </div>

  <!-- Active -->
  <div class="flex items-center gap-2">
    <input type="checkbox" name="is_active" value="true" {{if .Product.IsActive}}checked{{end}}/>
    <label class="font-semibold">Active</label>
  </div>

</form>

{{end}}
