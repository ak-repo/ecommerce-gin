{{define "title"}}Admin Profile{{end}}
{{define "content"}}
<div class="max-w-4xl mx-auto bg-white p-12">
  <!-- Header -->
  <div class="text-center mb-16">
    <div class="relative w-24 h-24 mx-auto mb-6">
      {{if .Profile.ProfilePic}}
      <img src="/uploads/{{.Profile.ProfilePic.ImageURL}}" alt="Profile Picture"
        class="w-24 h-24 rounded-full object-cover border border-gray-300 mx-auto" />
      {{else}}
      <div
        class="w-24 h-24 flex items-center justify-center rounded-full bg-gray-100 text-gray-600 text-2xl font-medium border border-gray-300 mx-auto">
        {{slice .Profile.Name 0 1}}
      </div>
      {{end}}
    </div>
    <h1 class="text-3xl font-light text-gray-900 mb-2">{{.Profile.Name}}</h1>
    <p class="text-gray-500 text-lg">{{.Profile.Email}}</p>
  </div>

  <!-- Upload Form -->
  <div class="mb-16 p-8 border border-gray-200 rounded-lg">
    <form action="/api/v1/admin/profile/profile_pic" method="POST" enctype="multipart/form-data" 
          class="flex flex-col items-center space-y-4">
      <label class="block w-full max-w-md text-center bg-gray-50 hover:bg-gray-100 cursor-pointer rounded-lg border border-gray-300 py-4 px-6 text-gray-700 text-base transition-colors">
        <input type="file" name="profile_pic" accept="image/*" required class="hidden" onchange="previewImage(event)" />
        Choose new profile picture
      </label>
      <button type="submit"
        class="bg-gray-900 text-white py-3 px-8 rounded-lg hover:bg-gray-800 transition-colors text-base font-medium">
        Upload Image
      </button>
      <img id="preview" src="#" alt="Preview" class="hidden mt-4 w-20 h-20 rounded-full object-cover border border-gray-300">
    </form>
  </div>

  <!-- Profile Info -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
    <!-- Basic Info -->
    <div class="space-y-8">
      <div>
        <h2 class="text-xl font-light text-gray-900 mb-6">Profile Information</h2>
        <div class="space-y-4">
          <div class="flex justify-between py-2 border-b border-gray-100">
            <span class="text-gray-600">Admin ID</span>
            <span class="font-medium">{{.Profile.ID}}</span>
          </div>
          <div class="flex justify-between py-2 border-b border-gray-100">
            <span class="text-gray-600">Role</span>
            <span class="font-medium text-gray-900">{{.Profile.Role}}</span>
          </div>
          {{if .Profile.Address.Phone}}
          <div class="flex justify-between py-2 border-b border-gray-100">
            <span class="text-gray-600">Phone</span>
            <span class="font-medium">{{.Profile.Address.Phone}}</span>
          </div>
          {{end}}
        </div>
      </div>
    </div>

    <!-- Address -->
    <div class="space-y-8">
      <div>
        <h2 class="text-xl font-light text-gray-900 mb-6">Address Information</h2>
        {{if .Profile.Address.ID}}
        <div class="space-y-3 text-base">
          <p class="font-medium">{{.Profile.Address.AddressLine}}</p>
          <p class="text-gray-600">{{.Profile.Address.City}}, {{.Profile.Address.State}} - {{.Profile.Address.PostalCode}}</p>
          <p class="text-gray-600">{{.Profile.Address.Country}}</p>
          <a href="/api/v1/admin/profile/address/{{.Profile.Address.ID}}"
            class="inline-block text-gray-700 font-medium mt-4 hover:text-gray-900">
            Edit Address
          </a>
        </div>
        {{else}}
        <div class="text-center py-8">
          <p class="text-gray-500 text-base mb-4">No address added yet.</p>
          <a href="/api/v1/admin/profile/address/0"
            class="inline-block bg-gray-900 text-white py-3 px-6 rounded-lg hover:bg-gray-800 transition-colors text-base font-medium">
            Add Address
          </a>
        </div>
        {{end}}
      </div>
    </div>
  </div>

  <!-- Actions -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 pt-8 border-t border-gray-200">
    <a href="/api/v1/admin/password-change"
      class="block text-center bg-white text-gray-700 border border-gray-300 py-4 px-6 rounded-lg hover:bg-gray-50 transition-colors text-base font-medium">
      Change Password
    </a>
    <a href="/api/v1/admin/logout"
      class="block text-center bg-gray-900 text-white py-4 px-6 rounded-lg hover:bg-gray-800 transition-colors text-base font-medium">
      Logout
    </a>
  </div>
</div>

<script>
  function previewImage(event) {
    const preview = document.getElementById('preview');
    preview.src = URL.createObjectURL(event.target.files[0]);
    preview.classList.remove('hidden');
  }
</script>
{{end}}